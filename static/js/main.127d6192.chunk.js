(this["webpackJsonpmello-webapp"]=this["webpackJsonpmello-webapp"]||[]).push([[0],{10:function(e,t,n){e.exports={chat:"Chat_chat__2u7Jk",chatDialog:"Chat_chatDialog__28R7F",messageDate:"Chat_messageDate__2tW76",messageWrapper:"Chat_messageWrapper__3FwTq",message:"Chat_message__3liDM",messageInner:"Chat_messageInner__21H30",chatInputWrapper:"Chat_chatInputWrapper__flLAS",chatInput:"Chat_chatInput__3DKoW",chatInputBtn:"Chat_chatInputBtn__1OfIq",disabled:"Chat_disabled__tPetR"}},17:function(e,t,n){e.exports={requestPreview:"RequestPreview_requestPreview__2IS_h",content:"RequestPreview_content__3T-9t",companies:"RequestPreview_companies__2ZCnj",buttons:"RequestPreview_buttons__32SVC"}},19:function(e,t,n){e.exports={button:"Button_button__2yEWV",fullWidth:"Button_fullWidth__3hknv",small:"Button_small__2zoRr",outlined:"Button_outlined__1rgp3",rounded:"Button_rounded__sM0i2",secondary:"Button_secondary__sQ3Y-"}},20:function(e,t,n){e.exports={inputWrapper:"Input_inputWrapper__1cyZ-",input:"Input_input__Ds14m",rounded:"Input_rounded__3mTpo"}},21:function(e,t,n){e.exports={login:"Login_login__2-oiK",loginInner:"Login_loginInner__3iaN5",error:"Login_error__1KjdW"}},22:function(e,t,n){e.exports={header:"Header_header__1qtII",noTitle:"Header_noTitle__384yo",link:"Header_link__3Di1v"}},28:function(e,t,n){e.exports={layout:"Layout_layout__1kIUs",outerPage:"Layout_outerPage__osTRb"}},29:function(e,t,n){e.exports={menu:"Menu_menu__1ejUb",loginInner:"Menu_loginInner__1sqjD"}},30:function(e,t,n){e.exports={selectWrapper:"Select_selectWrapper__2b-lm",select:"Select_select__2bcEd"}},31:function(e,t,n){e.exports={icon:"ArrowTopIcon_icon__27amD"}},42:function(e,t,n){e.exports={loader:"Loader_loader__3L0H_","lds-dual-ring":"Loader_lds-dual-ring__3wIeg"}},45:function(e,t,n){e.exports={selectWrapper:"Conversations_selectWrapper__2t6su"}},51:function(e,t,n){},52:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(41),c=n.n(s),o=(n(51),n(52),n(16)),i=n(6),u="/",l="/login",d="/maintenance-request",j="/request-preview",p="/conversations",m=n(5),b=n(4),h=n(20),f=n.n(h),O=n(2),v=n(0),x=function(e){var t=e.name,n=e.value,a=e.label,r=e.onChange,s=e.rounded,c=void 0!==s&&s,o=e.type,i=void 0===o?"text":o,u=e.className,l=void 0===u?"":u,d=e.min,j=void 0===d?0:d,p=e.max,h=void 0===p?20:p,x=e.multiline,g=e.required,_={};return"file"===i&&(_.accept="image/*"),Object(v.jsxs)("div",{className:Object(O.a)(f.a.inputWrapper,Object(b.a)({},f.a.rounded,c),l),children:[Object(v.jsx)("label",{htmlFor:"",children:a}),x?Object(v.jsx)("textarea",{required:g,rows:5,name:t,value:n,onChange:r,className:Object(O.a)(f.a.input)}):Object(v.jsx)("input",Object(m.a)(Object(m.a)({required:g},_),{},{min:j,max:h,type:i,name:t,value:n,onChange:r,className:Object(O.a)(f.a.input)}))]})},g=n(21),_=n.n(g),y=function(e){var t=e.variant,n=void 0===t?"h1":t,a=e.children,r=e.className,s=void 0===r?"":r,c=n;return Object(v.jsx)(c,{className:s,children:a})},C=n(19),w=n.n(C),N=n(42),k=n.n(N),I=function(e){var t=e.size,n=void 0===t?24:t;return Object(v.jsx)("div",{className:k.a.loader,style:{minWidth:n,minHeight:n}})},q=function(e){var t,n=e.label,a=e.linkTo,r=void 0===a?"":a,s=e.color,c=void 0===s?"primary":s,i=e.rounded,u=void 0!==i&&i,l=e.outlined,d=void 0!==l&&l,j=e.onClick,p=e.className,h=void 0===p?"":p,f=e.small,x=void 0!==f&&f,g=e.fullWidth,_=void 0===g||g,y=e.loading,C={};j&&(C.onClick=j),r&&(C.to=r);var N=r?o.b:"button";return Object(v.jsx)(N,Object(m.a)(Object(m.a)({},C),{},{className:Object(O.a)(w.a.button,h,(t={},Object(b.a)(t,w.a.rounded,u),Object(b.a)(t,w.a.outlined,d),Object(b.a)(t,w.a.small,x),Object(b.a)(t,w.a.fullWidth,_),Object(b.a)(t,w.a.secondary,"secondary"===c),t)),children:Object(v.jsxs)("span",{className:"flexCenter",children:[y&&Object(v.jsx)(I,{}),n]})}))},S=n(3),T=n.n(S),W=n(8),B=n(9),D=n(27),L=n.n(D),M="accessToken",P="refreshToken",R=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(n){return}},A=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(a){console.log(a)}},F=function(e){localStorage.removeItem(e)},H=L.a.create({baseURL:"https://beta.mellobee.com/api"});H.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(R("accessToken")),e}));var E=null;H.interceptors.response.use((function(e){return e}),function(){var e=Object(W.a)(T.a.mark((function e(t){var n,a,r,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,403!==t.response.status&&401!==t.response.status||n._retry){e.next=17;break}if(n._retry=!0,E){e.next=16;break}return a=R(P),e.prev=5,E=!0,e.next=9,V.refreshToken(a);case 9:s=e.sent,E=null,(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.access)&&(A(M,s.data.access),L.a.defaults.headers.common.Authorization="Bearer "+s.data.access),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(5);case 16:return e.abrupt("return",H(n));case 17:return e.abrupt("return",Promise.reject(t));case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}());for(var z="/token/",J="/logout/",U="/token/verify/",Y="/token/refresh/",V={login:function(e){return H({method:"post",headers:{"Content-Type":"application/json"},withCredentials:!0,url:z,data:e})},logout:function(e){return H({method:"post",headers:{"Content-Type":"application/json"},withCredentials:!0,url:J,data:{refresh_token:e}})},verifyToken:function(e){return H({method:"post",headers:{"Content-Type":"application/json"},withCredentials:!0,url:U,data:{token:e}})},refreshToken:function(e){return H({method:"post",headers:{"Content-Type":"application/json"},withCredentials:!0,url:Y,data:{refresh:e}})}},K=function(){var e=Object(i.g)(),t=Object(a.useState)({email:"",password:""}),n=Object(B.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(!1),o=Object(B.a)(c,2),d=o[0],j=o[1],p=Object(a.useState)(!1),h=Object(B.a)(p,2),f=h[0],O=h[1];return{loading:f,credentials:r,error:d,onCredentialsChange:function(e){return s(Object(m.a)(Object(m.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))},onLogin:function(){var t=Object(W.a)(T.a.mark((function t(n){var a,s,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,d&&j(!1),O(!0),t.next=6,V.login(r);case 6:(null===(c=t.sent)||void 0===c||null===(a=c.data)||void 0===a?void 0:a.access)&&(null===c||void 0===c||null===(s=c.data)||void 0===s?void 0:s.refresh)&&(A(M,c.data.access),A(P,c.data.refresh),e.push(u)),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),j(!0),O(!1);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),onLogout:function(){var t=Object(W.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=R(P),t.prev=1,t.next=4,V.logout(n);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:return t.prev=8,F(M),e.push(l),t.finish(8);case 12:case"end":return t.stop()}}),t,null,[[1,6,8,12]])})));return function(){return t.apply(this,arguments)}}()}},Z=function(){var e=K(),t=e.credentials,n=e.loading,a=e.error,r=e.onCredentialsChange,s=e.onLogin,c=t.email,o=t.password;return Object(v.jsx)("div",{className:Object(O.a)(_.a.login,"flexCenter"),children:Object(v.jsxs)("form",{className:_.a.loginInner,onSubmit:s,children:[Object(v.jsx)(y,{variant:"h3",children:"Welcome!"}),Object(v.jsx)(y,{className:"mb-3",children:"Sign In"}),Object(v.jsx)(x,{rounded:!0,onChange:r,value:c,name:"email",type:"email",label:"E-Mail or Username",className:"mb-3"}),Object(v.jsx)(x,{rounded:!0,onChange:r,value:o,name:"password",label:"Password",type:"password",className:"mb-3"}),a&&Object(v.jsx)("div",{className:Object(O.a)(_.a.error,"mb-1"),children:"Wrong username or password"}),Object(v.jsx)(q,{label:"Log In",rounded:!0,loading:n})]})})},$=function(){return Object(v.jsx)(Z,{})},G=n(46),Q=n(28),X=n.n(Q),ee=function(e){var t=e.children,n=Object(i.h)().pathname,r=n===u||n===l;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(v.jsx)("div",{children:Object(v.jsx)("main",{className:Object(O.a)(X.a.layout,Object(b.a)({},X.a.outerPage,r)),children:t})})},te=function(e){var t=e.component,n=(e.isAuthProtected,Object(G.a)(e,["component","isAuthProtected"])),r=n.path,s=R(M),c=(function(e){var t=Object(i.g)(),n=Object(a.useState)(!1),r=Object(B.a)(n,2),s=r[0],c=r[1];return Object(a.useEffect)((function(){!function(){var e=Object(W.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=13;break}return e.prev=1,c(!0),e.next=5,V.verifyToken(n);case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(1),c(!1),F(M),F(P),t.push(l);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()(e)}),[]),{loading:s}}(s).loading,r===l);return Object(v.jsx)(i.b,Object(m.a)(Object(m.a)({},n),{},{render:function(e){return s||c?s&&c?Object(v.jsx)(i.a,{to:{pathname:u,state:{from:e.location}}}):Object(v.jsx)(ee,{children:Object(v.jsx)(t,Object(m.a)(Object(m.a)({},n),e))}):Object(v.jsx)(i.a,{to:{pathname:l,state:{from:e.location}}})}}))},ne=n(29),ae=n.n(ne),re=function(){var e=K().onLogout;return Object(v.jsx)("div",{className:Object(O.a)(ae.a.menu,"flexCenter"),children:Object(v.jsxs)("div",{className:ae.a.loginInner,children:[Object(v.jsxs)(y,{variant:"h3",children:["Welcome ","Lisa","!"]}),Object(v.jsx)(y,{className:"mb-3",children:"Menu"}),Object(v.jsx)(q,{linkTo:d,label:"Submit A Request",rounded:!0,className:"mb-3"}),Object(v.jsx)(q,{linkTo:p,label:"View Conversations",rounded:!0,className:"mb-3"}),Object(v.jsx)(q,{label:"Log Out",onClick:e,rounded:!0,outlined:!0})]})})},se=function(){return Object(v.jsx)(re,{})},ce=n(22),oe=n.n(ce),ie=function(e){var t=e.title,n=e.hasBackBtn,a=void 0===n||n;return Object(v.jsxs)("header",{className:Object(O.a)("flexCenter",oe.a.header,"mb-3",Object(b.a)({},oe.a.noTitle,!t)),children:[t&&Object(v.jsx)(y,{variant:"h2",children:t}),a&&Object(v.jsx)(o.b,{to:u,className:oe.a.link,children:"Return to Home"})]})},ue="/project/",le="/project/",de=function(e){return"/project/".concat(e,"/")},je=function(e,t){return"/project/".concat(e,"/company/").concat(t,"/")},pe=function(e,t){return"/project/".concat(e,"/company/").concat(t,"/")},me=function(){return H({method:"get",url:ue})},be=function(e){return H({method:"post",headers:{"Content-Type":"multipart/form-data"},withCredentials:!0,url:le,data:e})},he=function(e){return H({method:"patch",headers:{"Content-Type":"application/json"},withCredentials:!0,url:de(e),data:{project_id:e}})},fe=function(e,t){return H({method:"get",url:je(e,t)})},Oe=function(e,t,n){return H({method:"post",headers:{"Content-Type":"application/json"},withCredentials:!0,url:pe(e,t),data:{message:n,project_id:e,company_id:t}})},ve=function(){var e=function(){var e=Object(i.g)(),t=Object(a.useState)({job_type:"",num_requests:"",address:"",city:"",zip_code:"",message:""}),n=Object(B.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(null),o=Object(B.a)(c,2),l=o[0],d=o[1];return{onSubmit:function(){var t=Object(W.a)(T.a.mark((function t(n){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=new FormData,Object.keys(r).map((function(e){a.append(e,r[e])})),l&&a.append("image",l),t.prev=4,t.next=7,be(a);case 7:e.push(u),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),onInputChange:function(e){if("file"===e.target.type&&e.target.files.length)return d(e.target.files[0]);s(Object(m.a)(Object(m.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))},requestData:r}}(),t=e.requestData,n=e.onSubmit,r=e.onInputChange,s=t.job_type,c=t.num_requests,o=t.address,l=t.city,d=t.zip_code,j=t.message,p=t.photo;return Object(v.jsxs)("div",{children:[Object(v.jsx)(ie,{title:"Maintenance Request"}),Object(v.jsxs)("form",{onSubmit:n,children:[Object(v.jsx)(x,{required:!0,onChange:r,value:s,name:"job_type",label:"Job Type (ex: handyman, plumber, electrician, AC repair, etc...)",className:"mb-1"}),Object(v.jsx)(x,{max:"50",min:"0",type:"number",onChange:r,value:c,name:"num_requests",label:"# of Requests (suggested 20, max 50)",className:"mb-1"}),Object(v.jsx)(x,{required:!0,onChange:r,value:o,name:"address",label:"Address",className:"mb-1"}),Object(v.jsx)(x,{required:!0,onChange:r,value:l,name:"city",label:"City",className:"mb-1"}),Object(v.jsx)(x,{required:!0,onChange:r,value:d,name:"zip_code",label:"Zip Code",className:"mb-1"}),Object(v.jsx)(x,{required:!0,multiline:!0,onChange:r,value:j,name:"message",label:"Describe your issue in as much detail as possible:",className:"mb-1"}),Object(v.jsx)(x,{onChange:r,value:p,name:"photo",type:"file",label:"Upload a photo of the issue (Optional)",className:"mb-3"}),Object(v.jsx)(q,{label:"Send Message",className:"mb-3",small:!0,fullWidth:!1})]})]})},xe=function(){return Object(v.jsx)(ve,{})},ge=n(17),_e=n.n(ge),ye=function(e){var t=e.vendorName,n=e.description,a=e.address,r=e.city;return Object(v.jsxs)("div",{className:Object(O.a)(_e.a.content,"mb-3"),children:[Object(v.jsxs)("p",{children:["Hello, is this ",t,"? I got your info off Yelp. ",n,". I am located at ",a," in ",r,"."]}),Object(v.jsx)("p",{children:"How much will this job cost, or if an in-person estimate is needed, how much is the estimate visit? When is your next availability?"})]})},Ce=function(e){var t=e.companies;return Object(v.jsxs)("div",{className:Object(O.a)(_e.a.companies,"mb-3"),children:[Object(v.jsx)("p",{className:"mb-2",children:"Your request will be sent to the following companies:"}),Object(v.jsx)("div",{children:(t||[]).join(", ")})]})},we=function(e){var t=e.onSubmit,n=e.onCancel;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{className:"mb-3 textCenter",children:"Are you ready to send your request?"}),Object(v.jsxs)("div",{className:Object(O.a)("flexCenter",_e.a.buttons),children:[Object(v.jsx)(q,{onClick:t,label:"Cancel",color:"secondary",fullWidth:!1,small:!0}),Object(v.jsx)(q,{onClick:n,label:"Send",fullWidth:!1,small:!0})]})]})},Ne=function(e){var t=e.requestData,n=e.onSubmit,a=e.onCancel,r=t.vendorName,s=t.description,c=t.address,o=t.city,i=t.companies;return Object(v.jsxs)("div",{children:[Object(v.jsx)(ie,{title:"Your Request",hasBackBtn:!1}),Object(v.jsxs)("div",{className:_e.a.requestPreview,children:[Object(v.jsx)(ye,{vendorName:r,address:c,city:o,description:s}),Object(v.jsx)(Ce,{companies:i})]}),Object(v.jsx)(we,{onSubmit:n,onCancel:a})]})},ke=[],Ie=1;Ie<=10;Ie++)ke.push("Company ".concat(Ie));var qe=function(){var e={vendorName:"Vendor Name",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquid debitis delectus eaque esse est neque officiis qui repellat sequi tempora. A, animi cumque enim ex fugit illum labore maiores mollitia?",address:"Address Goes here st. 1",city:"New York",companies:ke};return Object(v.jsx)(Ne,{requestData:e,onSubmit:function(){return console.log("handle send request")},onCancel:function(){return console.log("handle cancel request")}})},Se=n(30),Te=n.n(Se),We=function(e){var t=e.name,n=e.value,a=e.label,r=e.onChange,s=e.className,c=void 0===s?"":s,o=e.options;return Object(v.jsxs)("div",{className:Object(O.a)(Te.a.selectWrapper,c),children:[Object(v.jsx)("label",{htmlFor:"",children:a}),Object(v.jsx)("select",{name:t,value:n,onChange:r,className:Object(O.a)(Te.a.select),children:(o||[]).map((function(e,t){var n=e.id,a=e.name;return Object(v.jsx)("option",{value:n,children:a||"Project ".concat(t+1)},"".concat(a).concat(t))}))})]})},Be=n(10),De=n.n(Be),Le=n(15),Me=n.n(Le),Pe=Object(a.memo)((function(e){var t=e.text,n=e.datetime;return Object(v.jsx)("div",{className:Object(O.a)(De.a.messageWrapper,"mb-1"),children:Object(v.jsxs)("div",{className:Object(O.a)(De.a.message),children:[Object(v.jsx)("div",{className:De.a.messageDate,children:n}),Object(v.jsx)("div",{className:Object(O.a)(De.a.messageInner,"mb-1"),children:t})]})})}));Pe.propTypes={text:Me.a.string.isRequired,datetime:Me.a.string};var Re=Object(a.memo)((function(e){var t=e.messages;return Object(v.jsx)("div",{className:De.a.chatDialog,children:(t||[]).map((function(e){var t=e.id,n=e.text,a=e.datetime;return Object(v.jsx)(Pe,{text:n,datetime:a},"message".concat(t))}))})}));Re.propTypes={messages:Me.a.array.isRequired};var Ae=n(31),Fe=n.n(Ae),He=function(){return Object(v.jsxs)("svg",{enableBackground:"new 0 0 64 64",version:"1.1",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("polyline",{className:Fe.a.icon,points:"48 32.2 32 16.2 16 32.2"}),Object(v.jsx)("line",{className:Fe.a.icon,x1:"32",x2:"32",y1:"16.2",y2:"47.8"})]})},Ee=Object(a.memo)((function(e){var t=e.inputMessage,n=e.onChange,a=e.onMessageSend;return Object(v.jsxs)("form",{className:De.a.chatInputWrapper,onSubmit:a,children:[Object(v.jsx)("textarea",{required:!0,placeholder:"Type your message here...",rows:2,name:"message",value:t,onChange:n,className:De.a.chatInput}),Object(v.jsxs)("button",{className:Object(O.a)(De.a.chatInputBtn,Object(b.a)({},De.a.disabled,!t)),disabled:!t,children:[Object(v.jsx)(He,{}),Object(v.jsx)("span",{children:"Send"})]})]})}));Ee.propTypes={inputMessage:Me.a.string.isRequired};var ze=function(e){var t=e.messages,n=e.inputMessage,a=e.onChange,r=e.onMessageSend;return Object(v.jsxs)("div",{className:De.a.chat,children:[Object(v.jsx)(Re,{messages:t}),Object(v.jsx)(Ee,{inputMessage:n,onChange:a,onMessageSend:r})]})},Je=n(45),Ue=n.n(Je),Ye=[{id:1,datetime:"9/3/21, 8:22 am",text:"Hello, thank you for reaching out to us. Our rates are $175/hr with a minimum of 30 minutes. Based on your job description and pictures we estimate that it\u2019ll take less than 2 hours to completely fix your issue, but it will depend on the specifics of the situation once when get there. Our next availability is Friday."},{id:2,datetime:"9/3/21, 8:22 am",text:"Hello, thank you for reaching out to us. Our rates are $175/hr with a minimum of 30 minutes. Based on your job description and pictures we estimate that it\u2019ll take less than 2 hours to completely fix your issue, but it will depend on the specifics of the situation once when get there. Our next availability is Friday."},{id:3,datetime:"9/3/21, 8:22 am",text:"Hello, thank you for reaching out to us. Our rates are $175/hr with a minimum of 30 minutes. Based on your job description and pictures we estimate that it\u2019ll take less than 2 hours to completely fix your issue, but it will depend on the specifics of the situation once when get there. Our next availability is Friday."}],Ve=function(){var e=Object(a.useState)({projectId:"",companyId:"",message:""}),t=Object(B.a)(e,2),n=t[0],r=t[1],s=n.projectId,c=n.companyId,o=n.message,i=function(){var e=Object(a.useState)([]),t=Object(B.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){Object(W.a)(T.a.mark((function e(){var t,n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me();case 3:(null===(n=e.sent)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.results)&&r(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),{projects:n}}().projects,u=function(e,t){var n=Object(a.useState)([]),r=Object(B.a)(n,2),s=r[0],c=r[1];return Object(a.useEffect)((function(){if(t&&e.length>0){var n=e.filter((function(e){return e.id===+t}));n.length&&n[0].companies.length>0&&c(n[0].companies)}}),[e,t]),{companies:s}}(i,s).companies,l=function(e,t){var n=Object(a.useState)([]),r=Object(B.a)(n,2),s=r[0],c=r[1];return Object(a.useEffect)((function(){e&&t&&Object(W.a)(T.a.mark((function n(){var a,r,s;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe(e,t);case 3:(null===(r=n.sent)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.messages)?c(null===r||void 0===r||null===(s=r.data)||void 0===s?void 0:s.messages):c(Ye),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[e,t]),{messages:s}}(s,c).messages;Object(a.useEffect)((function(){!s&&i.length>0&&i[0].companies.length>0&&r(Object(m.a)(Object(m.a)({},n),{},{projectId:i[0].id,companyId:i[0].companies[0].id}))}),[i,u]),function(e){Object(a.useEffect)((function(){e&&Object(W.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))(e)}),[e])}(s);return{data:n,onChange:function(e){return r(Object(m.a)(Object(m.a)({},n),{},Object(b.a)({},e.target.name,e.target.value)))},onMessageSend:function(){var e=Object(W.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Oe(s,c,o);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),projects:i,companies:u,messages:l}},Ke=function(){var e=Ve(),t=e.data,n=e.companies,a=e.projects,r=e.onChange,s=e.onMessageSend,c=e.messages,o=t.projectId,i=t.companyId,u=t.message;return Object(v.jsxs)("div",{children:[Object(v.jsx)(ie,{}),Object(v.jsxs)("div",{className:Ue.a.selectWrapper,children:[Object(v.jsx)(We,{className:"mb-1",label:"Project",options:a,onChange:r,name:"projectId",value:o}),Object(v.jsx)(We,{className:"mb-1",label:"Company",options:n,onChange:r,name:"companyId",value:i})]}),Object(v.jsx)(ze,{messages:c,inputMessage:u,onChange:r,onMessageSend:s})]})},Ze=function(){return Object(v.jsx)(Ke,{})};var $e=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(o.a,{children:Object(v.jsxs)(i.d,{children:[Object(v.jsx)(te,{path:u,component:se,exact:!0}),Object(v.jsx)(te,{path:l,component:$,isAuthProtected:!1}),Object(v.jsx)(te,{path:d,component:xe}),Object(v.jsx)(te,{path:j,component:qe}),Object(v.jsx)(te,{path:p,component:Ze})]})})})},Ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)($e,{})}),document.getElementById("root")),Ge()}},[[79,1,2]]]);
//# sourceMappingURL=main.127d6192.chunk.js.map