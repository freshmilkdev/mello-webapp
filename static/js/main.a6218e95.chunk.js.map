{"version":3,"sources":["components/Conversations/Chat/Chat.module.css","components/RequestPreview/RequestPreview.module.css","components/Shared/Button/Button.module.css","components/Shared/Input/Input.module.css","components/Login/Login.module.css","components/Shared/Header/Header.module.css","components/Layout/Layout.module.css","components/Menu/Menu.module.css","components/Shared/Select/Select.module.css","components/Shared/Icons/ArrowTopIcon.module.css","components/Shared/Loader/Loader.module.css","components/Conversations/Conversations.module.css","routes/index.js","components/Shared/Input/Input.js","components/Shared/Typography/Typography.js","components/Shared/Loader/Loader.js","components/Shared/Button/Button.js","helpers/localStorage.js","api/core/request.js","api/auth.js","components/Login/useAuth.js","components/Login/Login.js","pages/login.js","components/Layout/Layout.js","routes/AppRoute.js","routes/useProtectedRoute.js","components/Menu/Menu.js","pages/menu.js","components/Shared/Header/Header.js","api/projects.js","components/MaintenanceRequest/useMaintenanceRequest.js","components/MaintenanceRequest/MaintenanceRequest.js","pages/maintenance-request.js","components/RequestPreview/RequestPreviewContent.js","components/RequestPreview/RequestPreviewCompanies.js","components/RequestPreview/RequestPreviewButtons.js","components/RequestPreview/RequestPreview.js","components/RequestPreview/usePreviewRequest.js","pages/request-preview.js","components/Shared/Select/Select.js","components/Conversations/Chat/Message.js","components/Conversations/Chat/ChatDialog.js","components/Shared/Icons/ArrowTopIcon.js","components/Conversations/Chat/ChatInput.js","components/Conversations/Chat/Chat.js","components/Conversations/useConversations.js","components/Conversations/useProjects.js","components/Conversations/useCompanies.js","components/Conversations/useMessages.js","components/Conversations/Conversations.js","pages/conversations.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","routes","Input","name","value","label","onChange","rounded","type","className","min","max","multiline","required","props","accept","clsx","styles","inputWrapper","htmlFor","rows","input","Typography","variant","children","TagComponent","Loader","size","loader","style","minWidth","minHeight","Button","linkTo","color","outlined","onClick","small","fullWidth","loading","disabled","to","Link","button","secondary","localStorageKeys","loadState","key","serializedState","localStorage","getItem","JSON","parse","e","saveState","state","stringify","setItem","console","log","request","axios","create","baseURL","interceptors","use","config","headers","Authorization","refreshTokenInProgress","response","error","a","originalRequest","status","_retry","refreshToken","authAPI","result","data","access","defaults","common","url","token","Promise","reject","endpoints","login","credentials","method","withCredentials","logout","refresh_token","verifyToken","refresh","useAuth","history","useHistory","useState","email","password","setCredentials","setError","setLoading","onCredentialsChange","target","onLogin","preventDefault","push","onLogout","removeItem","Login","loginInner","onSubmit","LoginPage","Layout","pathname","useLocation","isOuterPage","useEffect","window","scrollTo","layout","outerPage","AppRoute","Component","component","rest","isAuthProtected","path","accessToken","isLogin","useProtectedRoute","render","from","location","Menu","menu","MenuPage","Header","title","hasBackBtn","header","noTitle","link","projectId","companyId","projectsAPI","formData","send_confirmed","message","project_id","company_id","getUnderscoreKey","MaintenanceRequest","jobType","numRequests","address","city","zipCode","requestData","setRequestData","file","setFile","FormData","Object","keys","map","append","companies","id","onInputChange","files","length","useMaintenanceRequest","photo","MaintenanceRequestPage","RequestPreviewContent","vendorName","description","content","RequestPreviewCompanies","company","join","RequestPreviewButtons","conversationCreated","onCancel","success","buttons","RequestPreview","setConversationCreated","handleSubmit","usePreviewRequest","requestPreview","RequestPreviewPage","Select","options","selectWrapper","select","ix","Message","memo","text","datetime","messageWrapper","messageDate","messageInner","propTypes","PropTypes","string","isRequired","ChatDialog","messages","chatDialog","body","index","created","author","array","ArrowTopIcon","enableBackground","version","viewBox","xmlns","icon","points","x1","x2","y1","y2","ChatInput","inputMessage","onMessageSend","chatInputWrapper","placeholder","chatInput","chatInputBtn","Chat","chat","useConversations","setData","projects","setProjects","results","useProjects","setCompanies","found","filter","project","useCompanies","setMessages","fetchMessages","useMessages","formatProjectsOptions","p","job_type","date","Conversations","ConversationsPage","App","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6218e95.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"Chat_chat__2u7Jk\",\"chatDialog\":\"Chat_chatDialog__28R7F\",\"messageDate\":\"Chat_messageDate__2tW76\",\"messageWrapper\":\"Chat_messageWrapper__3FwTq\",\"message\":\"Chat_message__3liDM\",\"messageInner\":\"Chat_messageInner__21H30\",\"chatInputWrapper\":\"Chat_chatInputWrapper__flLAS\",\"chatInput\":\"Chat_chatInput__3DKoW\",\"chatInputBtn\":\"Chat_chatInputBtn__1OfIq\",\"disabled\":\"Chat_disabled__tPetR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"requestPreview\":\"RequestPreview_requestPreview__2IS_h\",\"content\":\"RequestPreview_content__3T-9t\",\"companies\":\"RequestPreview_companies__2ZCnj\",\"success\":\"RequestPreview_success__4955J\",\"buttons\":\"RequestPreview_buttons__32SVC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2yEWV\",\"fullWidth\":\"Button_fullWidth__3hknv\",\"small\":\"Button_small__2zoRr\",\"disabled\":\"Button_disabled__2S9WB\",\"outlined\":\"Button_outlined__1rgp3\",\"rounded\":\"Button_rounded__sM0i2\",\"secondary\":\"Button_secondary__sQ3Y-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"Input_inputWrapper__1cyZ-\",\"input\":\"Input_input__Ds14m\",\"rounded\":\"Input_rounded__3mTpo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__2-oiK\",\"loginInner\":\"Login_loginInner__3iaN5\",\"error\":\"Login_error__1KjdW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1qtII\",\"noTitle\":\"Header_noTitle__384yo\",\"link\":\"Header_link__3Di1v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__1kIUs\",\"outerPage\":\"Layout_outerPage__osTRb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__1ejUb\",\"loginInner\":\"Menu_loginInner__1sqjD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectWrapper\":\"Select_selectWrapper__2b-lm\",\"select\":\"Select_select__2bcEd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"ArrowTopIcon_icon__27amD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3L0H_\",\"lds-dual-ring\":\"Loader_lds-dual-ring__3wIeg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectWrapper\":\"Conversations_selectWrapper__2t6su\"};","export const routes = {\r\n    home: '/',\r\n    login: '/login',\r\n    maintenanceRequest: '/maintenance-request',\r\n    requestPreview: '/request-preview',\r\n    conversations: '/conversations',\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Input.module.css';\r\nimport clsx from \"clsx\";\r\n\r\nexport const Input = ({name, value, label, onChange, rounded = false, type = 'text', className = '', min = 0, max = 20, multiline, required}) => {\r\n    let props = {};\r\n    if(type === 'file') props.accept=\"image/*\";\r\n    return (\r\n        <div className={clsx(styles.inputWrapper, {\r\n            [styles.rounded]: rounded\r\n        }, className)}>\r\n            <label htmlFor=\"\">{label}</label>\r\n            {!multiline ?\r\n                <input required={required} {...props} min={min} max={max} type={type} name={name} value={value} onChange={onChange}\r\n                       className={clsx(styles.input)}/> :\r\n                <textarea required={required} rows={5} name={name} value={value} onChange={onChange}\r\n                          className={clsx(styles.input)}/>}\r\n        </div>\r\n    )\r\n};\r\nInput.propTypes = {\r\n    required: PropTypes.bool,\r\n    name: PropTypes.string.isRequired,\r\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    onChange: PropTypes.func.isRequired,\r\n    rounded: PropTypes.bool,\r\n    type: PropTypes.string,\r\n    className: PropTypes.string,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const Typography = ({variant = 'h1', children, className = ''}) => {\r\n    const TagComponent = variant;\r\n    return <TagComponent className={className}>{children}</TagComponent>\r\n}\r\n\r\nTypography.propTypes = {\r\n    variant: PropTypes.string,\r\n    children: PropTypes.any.isRequired,\r\n    className: PropTypes.string,\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Loader.module.css';\r\n\r\nexport const Loader = ({size = 24}) => (<div className={styles.loader} style={{minWidth: size, minHeight: size}}/>);\r\n\r\nLoader.propTypes = {\r\n    size: PropTypes.number\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from \"clsx\";\r\nimport {Link} from \"react-router-dom\";\r\nimport styles from './Button.module.css';\r\nimport {Loader} from \"../Loader/Loader\";\r\n\r\nexport const Button = (\r\n    {label, linkTo = '', color = 'primary', rounded = false, outlined = false, onClick, className = '', small = false, fullWidth = true, loading, disabled = false}) => {\r\n    let props = {};\r\n    if (onClick) props.onClick = onClick;\r\n    if (linkTo) props.to = linkTo;\r\n\r\n    const TagComponent = linkTo ? Link : 'button';\r\n\r\n    return <TagComponent disabled={disabled} {...props} className={clsx(styles.button, className, {\r\n        [styles.rounded]: rounded,\r\n        [styles.outlined]: outlined,\r\n        [styles.small]: small,\r\n        [styles.fullWidth]: fullWidth,\r\n        [styles.secondary]: color === 'secondary',\r\n        [styles.disabled]: disabled\r\n    })}>\r\n        <span className={'flexCenter'}>{loading && <Loader/>}{label}</span>\r\n    </TagComponent>\r\n}\r\n\r\nButton.propTypes = {\r\n    loading: PropTypes.bool,\r\n    label: PropTypes.string.isRequired,\r\n    color: PropTypes.oneOf(['secondary', 'primary']),\r\n    rounded: PropTypes.bool,\r\n    outlined: PropTypes.bool,\r\n    onClick: PropTypes.func,\r\n    small: PropTypes.bool\r\n};","const localStorageKeys = {\r\n    accessToken: 'accessToken',\r\n    refreshToken: 'refreshToken'\r\n}\r\nconst loadState = (key) => {\r\n    try {\r\n        const serializedState = localStorage.getItem(key);\r\n        if (serializedState === null) {\r\n            return undefined;\r\n        }\r\n        return JSON.parse(serializedState);\r\n    } catch (e) {\r\n        return undefined;\r\n    }\r\n};\r\n\r\nconst saveState = (key, state) => {\r\n    try {\r\n        const serializedState = JSON.stringify(state);\r\n        localStorage.setItem(key, serializedState);\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n};\r\n\r\nconst removeState = (key) => {\r\n    localStorage.removeItem(key);\r\n};\r\nexport {\r\n    localStorageKeys,\r\n    loadState,\r\n    saveState,\r\n    removeState\r\n}","import axios from 'axios';\r\nimport {loadState, localStorageKeys, saveState} from \"../../helpers/localStorage\";\r\nimport {authAPI} from \"../auth\";\r\n\r\nconst baseUrl = 'https://beta.mellobee.com/api';\r\n\r\nconst request = axios.create({\r\n    baseURL: baseUrl\r\n});\r\n// Add a request interceptor\r\nrequest.interceptors.request.use((config) => {\r\n    config.headers.Authorization = `Bearer ${loadState('accessToken')}`\r\n    return config;\r\n});\r\n// Response interceptor for API calls\r\nlet refreshTokenInProgress = null;// this holds any in-progress token refresh requests\r\nrequest.interceptors.response.use((response) => {\r\n    return response\r\n}, async function (error) {\r\n    const originalRequest = error.config;\r\n    if ((error.response.status === 403 || error.response.status === 401) && !originalRequest._retry) {\r\n        originalRequest._retry = true;\r\n        if (!refreshTokenInProgress) { // check for an existing in-progress request\r\n            const refreshToken = loadState(localStorageKeys.refreshToken);\r\n            try {\r\n                refreshTokenInProgress = true;\r\n                const result = await authAPI.refreshToken(refreshToken);\r\n                refreshTokenInProgress = null;\r\n\r\n                if (result?.data?.access) {\r\n                    saveState(localStorageKeys.accessToken, result.data.access);\r\n                    request.defaults.headers.common['Authorization'] = 'Bearer ' + result.data.access;\r\n\r\n                    if (originalRequest.url === '/token/verify/') {\r\n                        originalRequest.data = JSON.stringify({token: result.data.access});\r\n                    }\r\n                }\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n        return request(originalRequest);\r\n    }\r\n    return Promise.reject(error);\r\n});\r\nexport {request};\r\n","import {request} from \"./core/request\";\r\n\r\nconst endpoints = {\r\n    login: `/token/`,\r\n    logout: `/logout/`,\r\n    verifyToken: `/token/verify/`,\r\n    refreshToken: `/token/refresh/`\r\n}\r\nexport const authAPI = {\r\n    login: credentials =>\r\n        request({\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            withCredentials: true,\r\n            url: endpoints.login,\r\n            data: credentials\r\n        }),\r\n    logout: refreshToken =>\r\n        request({\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            withCredentials: true,\r\n            url: endpoints.logout,\r\n            data: {\r\n                refresh_token: refreshToken\r\n            }\r\n        }),\r\n    verifyToken: token =>\r\n        request({\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            withCredentials: true,\r\n            url: endpoints.verifyToken,\r\n            data: {\r\n                token\r\n            }\r\n        }),\r\n    refreshToken: (refreshToken) =>\r\n        request({\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            withCredentials: true,\r\n            url: endpoints.refreshToken,\r\n            data: {\r\n                refresh: refreshToken\r\n            }\r\n        }),\r\n}","import {useState} from \"react\";\r\nimport {authAPI} from \"../../api/auth\";\r\nimport {removeState, saveState, localStorageKeys, loadState} from \"../../helpers/localStorage\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {routes} from \"../../routes\";\r\n\r\nexport const useAuth = () => {\r\n    const history = useHistory();\r\n    const [credentials, setCredentials] = useState({email: '', password: ''});\r\n    const [error, setError] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const handleInputChange = e => setCredentials({...credentials, [e.target.name]: e.target.value});\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            if (error) setError(false);\r\n            setLoading(true);\r\n            const result = await authAPI.login(credentials);\r\n            if (result?.data?.access && result?.data?.refresh) {\r\n                saveState(localStorageKeys.accessToken, result.data.access);\r\n                saveState(localStorageKeys.refreshToken, result.data.refresh);\r\n                history.push(routes.home);\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n            setError(true);\r\n            setLoading(false);\r\n        }\r\n    }\r\n    const handleLogout = async () => {\r\n        const refreshToken = loadState(localStorageKeys.refreshToken);\r\n        try {\r\n            await authAPI.logout(refreshToken);\r\n        } catch (e) {\r\n\r\n        } finally {\r\n            removeState(localStorageKeys.accessToken);\r\n            history.push(routes.login);\r\n        }\r\n\r\n    }\r\n    return {\r\n        loading,\r\n        credentials,\r\n        error,\r\n        onCredentialsChange: handleInputChange,\r\n        onLogin: handleLogin,\r\n        onLogout: handleLogout\r\n    }\r\n}","import React from 'react';\r\nimport {Input} from \"../Shared/Input/Input\";\r\nimport styles from './Login.module.css';\r\nimport clsx from \"clsx\";\r\n\r\nimport {Typography} from \"../Shared/Typography/Typography\";\r\nimport {Button} from \"../Shared/Button/Button\";\r\nimport {useAuth} from \"./useAuth\";\r\n\r\nexport const Login = () => {\r\n    const {credentials, loading, error, onCredentialsChange, onLogin} = useAuth();\r\n    const {email, password} = credentials;\r\n    return (\r\n        <div className={clsx(styles.login, 'flexCenter')}>\r\n            <form className={styles.loginInner} onSubmit={onLogin}>\r\n                <Typography variant={'h3'}>Welcome!</Typography>\r\n                <Typography className='mb-3'>Sign In</Typography>\r\n                <Input\r\n                    rounded\r\n                    onChange={onCredentialsChange}\r\n                    value={email}\r\n                    name='email'\r\n                    type={`email`}\r\n                    label='E-Mail or Username'\r\n                    className='mb-3'/>\r\n                <Input\r\n                    rounded\r\n                    onChange={onCredentialsChange}\r\n                    value={password}\r\n                    name='password'\r\n                    label='Password'\r\n                    type='password'\r\n                    className='mb-3'/>\r\n                {error && <div className={clsx(styles.error, 'mb-1')}>Wrong username or password</div>}\r\n                <Button label={'Log In'} rounded loading={loading}/>\r\n            </form>\r\n        </div>\r\n    )\r\n};\r\n\r\n","import React from 'react';\r\nimport {Login} from \"../components/Login/Login\";\r\n\r\nexport const LoginPage = () => {\r\n    return (\r\n        <Login/>\r\n    )\r\n}","import React, {useEffect} from 'react';\r\nimport {useLocation} from \"react-router-dom\";\r\nimport styles from './Layout.module.css';\r\nimport {routes} from \"../../routes\";\r\nimport clsx from \"clsx\";\r\n\r\nexport const Layout = ({children}) => {\r\n    let {pathname} = useLocation();\r\n    const isOuterPage = pathname === routes.home || pathname === routes.login;\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n    return (\r\n        <div>\r\n            <main className={clsx(styles.layout, {[styles.outerPage]: isOuterPage})}>{children}</main>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect, Route} from 'react-router-dom';\r\nimport { Layout } from '../components/Layout/Layout';\r\nimport {useProtectedRoute} from \"./useProtectedRoute\";\r\nimport {routes} from \"./index\";\r\nimport {loadState, localStorageKeys} from \"../helpers/localStorage\";\r\n\r\nexport const AppRoute = ({ component: Component, isAuthProtected = true, ...rest }) => {\r\n    const {path} = rest;\r\n    const accessToken = loadState(localStorageKeys.accessToken);\r\n    const {loading} = useProtectedRoute(accessToken, path);\r\n    const isLogin = path === routes.login;\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) => {\r\n                if (!accessToken && !isLogin) {\r\n                    return (\r\n                        <Redirect\r\n                            to={{pathname: routes.login, state: {from: props.location}}}\r\n                        />\r\n                    )\r\n                }\r\n                if (accessToken && isLogin) {\r\n                    return (\r\n                        <Redirect\r\n                            to={{pathname: routes.home, state: {from: props.location}}}\r\n                        />\r\n                    )\r\n                }\r\n\r\n                // if (loading && token) return <div>Loading...</div>\r\n                return (\r\n                    <Layout>\r\n                        <Component {...rest} {...props} />\r\n                    </Layout>\r\n                );\r\n            }}\r\n        />\r\n    );\r\n};\r\nAppRoute.propTypes = {\r\n    component: PropTypes.any,\r\n    isAuthProtected: PropTypes.bool\r\n};\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\n// import {routes} from \"./index\";\r\nimport {authAPI} from \"../api/auth\";\r\n// import {removeState, localStorageKeys} from \"../helpers/localStorage\";\r\n\r\nexport const useProtectedRoute = (accessToken) => {\r\n    const history = useHistory();\r\n    const [loading, setLoading] = useState(false);\r\n    useEffect(() => {\r\n        (async (accessToken) => {\r\n            if (accessToken) {\r\n                try {\r\n                    setLoading(true);\r\n                    await authAPI.verifyToken(accessToken);\r\n                } catch (e) {\r\n                    //console.log(e.response.status)\r\n                    setLoading(false);\r\n                   /* removeState(localStorageKeys.accessToken);\r\n                    removeState(localStorageKeys.refreshToken);\r\n                    history.push(routes.login);*/\r\n                }\r\n            }\r\n        })(accessToken);\r\n    }, []);\r\n\r\n    return {\r\n        loading\r\n    }\r\n}","import React from 'react';\r\nimport styles from './Menu.module.css';\r\nimport clsx from \"clsx\";\r\nimport {Typography} from \"../Shared/Typography/Typography\";\r\nimport {Button} from \"../Shared/Button/Button\";\r\nimport {routes} from \"../../routes\";\r\nimport {useAuth} from \"../Login/useAuth\";\r\n\r\nexport const Menu = () => {\r\n    const user = 'Lisa';\r\n    const {onLogout} = useAuth();\r\n    return <div className={clsx(styles.menu, 'flexCenter')}>\r\n        <div className={styles.loginInner}>\r\n            <Typography variant={'h3'}>Welcome {user}!</Typography>\r\n            <Typography className='mb-3'>Menu</Typography>\r\n            <Button linkTo={routes.maintenanceRequest} label={'Submit A Request'} rounded className='mb-3'/>\r\n            <Button linkTo={routes.conversations} label={'View Conversations'} rounded className='mb-3'/>\r\n            <Button label={'Log Out'} onClick={onLogout} rounded outlined/>\r\n        </div>\r\n    </div>\r\n};","import React from 'react';\r\nimport {Menu} from \"../components/Menu/Menu\";\r\n\r\nexport const MenuPage = () => {\r\n    return <Menu/>\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Header.module.css';\r\nimport {Typography} from \"../Typography/Typography\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {routes} from \"../../../routes\";\r\nimport clsx from \"clsx\";\r\n\r\n\r\nexport const Header = ({title, hasBackBtn = true}) => {\r\n    return (\r\n        <header className={clsx('flexCenter', styles.header, 'mb-3', {\r\n            [styles.noTitle]: !title\r\n        })}>\r\n            {title && <Typography variant='h2'>{title}</Typography>}\r\n            {hasBackBtn && <Link to={routes.home} className={styles.link}>Return to Home</Link>}\r\n        </header>\r\n    )\r\n}\r\nHeader.propTypes = {\r\n    title: PropTypes.string,\r\n    hasBackBtn: PropTypes.bool\r\n}","import {request} from \"./core/request\";\r\n\r\nconst endpoints = {\r\n    getProjects: `/project/`,\r\n    createProject: `/project/`,\r\n    createConversation: projectId => `/project/${projectId}/`,\r\n    getMessages: (projectId, companyId) => `/project/${projectId}/company/${companyId}/`,\r\n    sendMessage: (projectId, companyId) => `/project/${projectId}/company/${companyId}/`\r\n}\r\nexport const projectsAPI = {\r\n    getProjects: () =>\r\n        request({\r\n            method: 'get',\r\n            url: endpoints.getProjects,\r\n        }),\r\n    createProject: (formData) =>\r\n        request({\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            },\r\n            withCredentials: true,\r\n            url: endpoints.createProject,\r\n            data: formData\r\n        }),\r\n    createConversation: (projectId) =>\r\n        request({\r\n            method: 'patch',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            withCredentials: true,\r\n            url: endpoints.createConversation(projectId),\r\n            data: {send_confirmed: true}\r\n        }),\r\n\r\n    getMessages: (projectId, companyId) =>\r\n        request({\r\n            method: 'get',\r\n            url: endpoints.getMessages(projectId, companyId),\r\n        }),\r\n    sendMessage: (projectId, companyId, message) =>\r\n        request({\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            withCredentials: true,\r\n            url: endpoints.sendMessage(projectId, companyId),\r\n            data: {\r\n                message,\r\n                project_id: projectId,\r\n                company_id: companyId\r\n            }\r\n        })\r\n}","import {useHistory} from \"react-router-dom\";\r\nimport {useState} from \"react\";\r\nimport {projectsAPI} from \"../../api/projects\";\r\nimport {routes} from \"../../routes\";\r\n\r\nconst getUnderscoreKey = key => {\r\n    switch (key) {\r\n        case 'jobType':\r\n            return 'job_type';\r\n        case 'numRequests':\r\n            return 'num_requests';\r\n        case 'zipCode':\r\n            return 'zip_code';\r\n        default:\r\n            return key;\r\n    }\r\n}\r\nexport const useMaintenanceRequest = () => {\r\n    const history = useHistory();\r\n\r\n    const [requestData, setRequestData] = useState({\r\n        jobType: '',\r\n        numRequests: '1',\r\n        address: '',\r\n        city: '',\r\n        zipCode: '',\r\n        message: ''\r\n    });\r\n    const [file, setFile] = useState(null);\r\n\r\n    const handleInputChange = e => {\r\n        if (e.target.type === 'file' && e.target.files.length) {\r\n            return setFile(e.target.files[0]);\r\n        }\r\n        setRequestData({...requestData, [e.target.name]: e.target.value});\r\n    }\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        let formData = new FormData();\r\n        Object.keys(requestData).map((key) => {\r\n            formData.append(getUnderscoreKey(key), requestData[key]);\r\n        })\r\n        if (file) {\r\n            formData.append(\"image\", file);\r\n        }\r\n        try {\r\n            let result = await projectsAPI.createProject(formData);\r\n\r\n            history.push({\r\n                pathname: routes.requestPreview,\r\n                state: {\r\n                    requestData: {\r\n                        ...requestData,\r\n                        companies: result.data?.companies,\r\n                    },\r\n                    projectId: result.data?.id\r\n                }\r\n            });\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n    return {\r\n        onSubmit: handleSubmit,\r\n        onInputChange: handleInputChange,\r\n        requestData\r\n    }\r\n}","import React from 'react';\r\nimport {Header} from \"../Shared/Header/Header\";\r\nimport {Input} from \"../Shared/Input/Input\";\r\nimport {Button} from \"../Shared/Button/Button\";\r\nimport {useMaintenanceRequest} from \"./useMaintenanceRequest\";\r\n\r\nexport const MaintenanceRequest = () => {\r\n    const {requestData, onSubmit, onInputChange} = useMaintenanceRequest();\r\n    const {jobType, numRequests, address, city, zipCode, message, photo} = requestData;\r\n    return (\r\n        <div>\r\n            <Header title={'Maintenance Request'}/>\r\n            <form onSubmit={onSubmit}>\r\n                <Input required onChange={onInputChange} value={jobType} name='jobType'\r\n                       label='Job Type (ex: handyman, plumber, electrician, AC repair, etc...)' className='mb-1'/>\r\n                <Input max='50' min='1' type='number' onChange={onInputChange} value={numRequests}\r\n                       name='numRequests'\r\n                       label='# of Requests (suggested 20, max 50)'\r\n                       className='mb-1'/>\r\n                <Input required onChange={onInputChange} value={address} name='address' label='Address'\r\n                       className='mb-1'/>\r\n                <Input required onChange={onInputChange} value={city} name='city' label='City' className='mb-1'/>\r\n                <Input required onChange={onInputChange} value={zipCode} name='zipCode' label='Zip Code'\r\n                       className='mb-1'/>\r\n                <Input required multiline onChange={onInputChange} value={message} name='message'\r\n                       label='Describe your issue in as much detail as possible:' className='mb-1'/>\r\n                <Input onChange={onInputChange} value={photo} name='photo' type='file'\r\n                       label='Upload a photo of the issue (Optional)' className='mb-3'/>\r\n                <Button label='Send Message' className='mb-3' small fullWidth={false}/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nimport {MaintenanceRequest} from \"../components/MaintenanceRequest/MaintenanceRequest\";\r\n\r\nexport const MaintenanceRequestPage = () => {\r\n\r\n    return (\r\n        <MaintenanceRequest/>\r\n    )\r\n}","import React from 'react';\r\nimport styles from './RequestPreview.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from \"clsx\";\r\n\r\nexport const RequestPreviewContent = ({vendorName, description, address, city}) => {\r\n\r\n    return (\r\n        <div className={clsx(styles.content, 'mb-3')}>\r\n            <p>Hello, is this {vendorName}? I got your info off Yelp. {description}. I am located at {address} in {city}.</p>\r\n            <p>How much will this job cost, or if an in-person estimate is needed, how much is the estimate visit? When is your next availability?</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nRequestPreviewContent.propTypes = {\r\n    vendorName: PropTypes.string.isRequired,\r\n    description: PropTypes.any.isRequired,\r\n    address: PropTypes.string.isRequired,\r\n    city: PropTypes.string.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './RequestPreview.module.css';\r\nimport clsx from \"clsx\";\r\n\r\nexport const RequestPreviewCompanies = ({companies}) =>\r\n    (<div className={clsx(styles.companies, 'mb-3')}>\r\n        <p className={'mb-2'}>Your request will be sent to the following companies:</p>\r\n        <div>{(companies || []).map(company => company.name).join(', ')}</div>\r\n    </div>);\r\n\r\nRequestPreviewCompanies.propTypes = {\r\n    companies: PropTypes.array.isRequired\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from \"clsx\";\r\nimport styles from \"./RequestPreview.module.css\";\r\nimport {Button} from \"../Shared/Button/Button\";\r\n\r\nexport const RequestPreviewButtons = ({disabled, conversationCreated, onSubmit, onCancel}) => (\r\n    <div>\r\n        {conversationCreated ?\r\n            <h4 className={clsx('mb-3 textCenter', styles.success)}>Your message has been sent successfully.</h4> :\r\n            <h4 className={'mb-3 textCenter'}>Are you ready to send your request?</h4>}\r\n        <div className={clsx('flexCenter', styles.buttons)}>\r\n            <Button onClick={onCancel} label={conversationCreated ? 'Home' : 'Cancel'} color={\"secondary\"}\r\n                    fullWidth={false} small/>\r\n            <Button disabled={disabled} onClick={onSubmit} label={conversationCreated ? 'See Chat' : 'Send'}\r\n                    fullWidth={false} small/>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nRequestPreviewButtons.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n    onCancel: PropTypes.func.isRequired\r\n};","import React, {useEffect} from 'react';\r\nimport {Header} from \"../Shared/Header/Header\";\r\nimport {RequestPreviewContent} from \"./RequestPreviewContent\";\r\nimport {RequestPreviewCompanies} from \"./RequestPreviewCompanies\";\r\nimport styles from './RequestPreview.module.css';\r\nimport {RequestPreviewButtons} from \"./RequestPreviewButtons\";\r\nimport {usePreviewRequest} from \"./usePreviewRequest\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {routes} from \"../../routes\";\r\n\r\nexport const RequestPreview = () => {\r\n    const {requestData, conversationCreated, onSubmit, onCancel} = usePreviewRequest();\r\n    let history = useHistory();\r\n    useEffect(() => {\r\n        if (!requestData) {\r\n            history.push(routes.home);\r\n        }\r\n    }, []);\r\n    if (!requestData) return null;\r\n    const {message, address, city, companies} = requestData;\r\n    const vendorName = companies.length > 0 ? companies[0].name : '';\r\n\r\n    return (\r\n        <div>\r\n            <Header title={'Your Request'} hasBackBtn={false}/>\r\n            <div className={styles.requestPreview}>\r\n                <RequestPreviewContent vendorName={vendorName} address={address} city={city} description={message}/>\r\n                <RequestPreviewCompanies companies={companies}/>\r\n            </div>\r\n            <RequestPreviewButtons onSubmit={onSubmit} onCancel={onCancel} disabled={!companies.length} conversationCreated={conversationCreated}/>\r\n        </div>\r\n    )\r\n}\r\n","import {useLocation, useHistory} from \"react-router-dom\";\r\nimport React, {useState} from \"react\";\r\nimport {projectsAPI} from \"../../api/projects\";\r\nimport {routes} from \"../../routes\";\r\n\r\nexport const usePreviewRequest = () => {\r\n    let location = useLocation();\r\n    let history = useHistory();\r\n    const [conversationCreated, setConversationCreated] = useState(false);\r\n    const handleSubmit = async () => {\r\n        if (location.state?.projectId) {\r\n            if (conversationCreated) {\r\n                return history.push(routes.conversations);\r\n            }\r\n            try {\r\n                await projectsAPI.createConversation(location.state?.projectId);\r\n                setConversationCreated(true);\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n\r\n    }\r\n    const handleCancel = () => history.push(routes.home);\r\n    return {\r\n        requestData: location.state?.requestData || null,\r\n        conversationCreated,\r\n        onSubmit: handleSubmit,\r\n        onCancel: handleCancel\r\n    }\r\n}","import React from 'react';\r\nimport {RequestPreview} from \"../components/RequestPreview/RequestPreview\";\r\n\r\nexport const RequestPreviewPage = () => {\r\n    return <RequestPreview />\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Select.module.css';\r\nimport clsx from \"clsx\";\r\n\r\nexport const Select = ({name, value, label, onChange, className = '', options}) => {\r\n    return (\r\n        <div className={clsx(styles.selectWrapper, className)}>\r\n            <label htmlFor=\"\">{label}</label>\r\n            <select name={name} value={value} onChange={onChange}\r\n                    className={clsx(styles.select)}>\r\n                {(options || []).map(({id, name}, ix) =>\r\n                    <option key={`${name}${ix}`} value={id}>\r\n                        {name ? name : `Project ${ix + 1}`}\r\n                    </option>)}\r\n            </select>\r\n        </div>\r\n    )\r\n};\r\nSelect.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    onChange: PropTypes.func.isRequired,\r\n    options: PropTypes.array.isRequired,\r\n    className: PropTypes.string,\r\n};","import React, {memo} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Chat.module.css';\r\nimport clsx from \"clsx\";\r\nexport const Message = memo(({text, datetime}) => (\r\n    <div className={clsx(styles.messageWrapper, 'mb-1')}>\r\n    <div className={clsx(styles.message)}>\r\n        <div className={styles.messageDate}>{datetime}</div>\r\n        <div className={clsx(styles.messageInner, 'mb-1')}>{text}</div>\r\n    </div>\r\n    </div>\r\n));\r\n\r\nMessage.propTypes = {\r\n    text: PropTypes.string.isRequired,\r\n    datetime: PropTypes.string\r\n};","import React, {memo} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Message} from \"./Message\";\r\nimport styles from './Chat.module.css';\r\n\r\nexport const ChatDialog = memo(({messages}) =>\r\n    <div className={styles.chatDialog}>\r\n        {(messages || []).map(({body, index, created, author}) =>\r\n            <Message key={`message${index}`} text={body} datetime={created}/>)}\r\n    </div>)\r\n\r\nChatDialog.propTypes = {\r\n    messages: PropTypes.array.isRequired\r\n};","import React from 'react';\r\nimport styles from './ArrowTopIcon.module.css'\r\nexport const ArrowTopIcon = () => (\r\n<svg enableBackground=\"new 0 0 64 64\" version=\"1.1\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\" >\r\n<polyline className={styles.icon} points=\"48 32.2 32 16.2 16 32.2\"/>\r\n<line className={styles.icon} x1=\"32\" x2=\"32\" y1=\"16.2\" y2=\"47.8\"/>\r\n</svg>\r\n\r\n)","import React, {memo} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Chat.module.css';\r\n\r\nimport {ArrowTopIcon} from \"../../Shared/Icons/ArrowTopIcon\";\r\nimport clsx from \"clsx\";\r\n\r\nexport const ChatInput = memo(({inputMessage, onChange, onMessageSend}) =>\r\n    (<form className={styles.chatInputWrapper} onSubmit={onMessageSend}>\r\n        <textarea\r\n            required\r\n            placeholder={'Type your message here...'}\r\n            rows={2} name='message'\r\n            value={inputMessage}\r\n            onChange={onChange}\r\n            className={styles.chatInput}/>\r\n        <button className={clsx(styles.chatInputBtn,{\r\n            [styles.disabled]: !inputMessage\r\n        })} disabled={!inputMessage}>\r\n            <ArrowTopIcon/>\r\n            <span>Send</span>\r\n        </button>\r\n    </form>));\r\n\r\nChatInput.propTypes = {\r\n    inputMessage: PropTypes.string.isRequired\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Chat.module.css';\r\nimport {ChatDialog} from \"./ChatDialog\";\r\nimport {ChatInput} from \"./ChatInput\";\r\n\r\nexport const Chat = ({messages, inputMessage, onChange, onMessageSend}) => (\r\n    <div className={styles.chat}>\r\n        <ChatDialog messages={messages} />\r\n        <ChatInput inputMessage={inputMessage} onChange={onChange} onMessageSend={onMessageSend}/>\r\n    </div>);\r\n\r\nChat.propTypes = {\r\n    messages: PropTypes.array.isRequired,\r\n    inputMessage: PropTypes.string,\r\n    onChange: PropTypes.func.isRequired,\r\n    onMessageSend: PropTypes.func.isRequired,\r\n};","import {useEffect, useState} from \"react\";\r\nimport {useProjects} from \"./useProjects\";\r\nimport {useCompanies} from \"./useCompanies\";\r\nimport {projectsAPI} from \"../../api/projects\";\r\nimport {useMessages} from \"./useMessages\";\r\n\r\nexport const useConversations = () => {\r\n    const [data, setData] = useState({\r\n        projectId: '',\r\n        companyId: '',\r\n        message: ''\r\n    });\r\n    const {projectId, companyId, message} = data;\r\n    const {projects} = useProjects();\r\n    const {companies} = useCompanies(projects, projectId);\r\n    const {messages, fetchMessages} = useMessages(projectId, companyId);\r\n    useEffect(() => {\r\n        if (!projectId && projects.length > 0) {\r\n            if (projects[0].companies.length > 0) {\r\n                setData({\r\n                    ...data,\r\n                    projectId: projects[0].id,\r\n                    companyId: projects[0].companies[0].id\r\n                });\r\n            }\r\n        }\r\n    }, [projects, companies]);\r\n\r\n    // useCreateConversation(projectId);\r\n    const handleChange = e => setData({...data, [e.target.name]: e.target.value});\r\n    const handleMessageSend = async e => {\r\n        e.preventDefault();\r\n        try {\r\n            await projectsAPI.sendMessage(projectId, companyId, message);\r\n            await fetchMessages();\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n    return {\r\n        data,\r\n        onChange: handleChange,\r\n        onMessageSend: handleMessageSend,\r\n        projects,\r\n        companies,\r\n        messages\r\n    }\r\n}","import {useEffect, useState} from \"react\";\r\nimport {projectsAPI} from \"../../api/projects\";\r\n\r\nexport const useProjects = () => {\r\n    const [projects, setProjects] = useState([]);\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const result = await projectsAPI.getProjects();\r\n                if (result?.data?.results) {\r\n                    setProjects(result?.data?.results);\r\n                }\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        })();\r\n    }, []);\r\n    return {\r\n        projects\r\n    }\r\n}","import {useEffect, useState} from \"react\";\r\n\r\nexport const useCompanies = (projects, projectId) => {\r\n    const [companies, setCompanies] = useState([]);\r\n    useEffect(() => {\r\n        if (projectId && projects.length > 0) {\r\n            const found = projects.filter(project => project.id === +projectId);\r\n            if (found.length && found[0].companies.length > 0) {\r\n                setCompanies(found[0].companies);\r\n            }\r\n        }\r\n    }, [projects, projectId]);\r\n\r\n    return {\r\n        companies\r\n    }\r\n}","import {useEffect, useState} from \"react\";\r\nimport {projectsAPI} from \"../../api/projects\";\r\n\r\nexport const useMessages = (projectId, companyId) => {\r\n    const [messages, setMessages] = useState([]);\r\n    const fetchMessages = async () => {\r\n        try {\r\n            const result = await projectsAPI.getMessages(projectId, companyId);\r\n            if (result?.data) {\r\n                setMessages(result?.data);\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        if (projectId && companyId) {\r\n            fetchMessages();\r\n        }\r\n    }, [projectId, companyId]);\r\n    return {\r\n        messages,\r\n        fetchMessages\r\n    }\r\n}","import React from 'react';\r\n\r\nimport {Header} from \"../Shared/Header/Header\";\r\nimport {Select} from \"../Shared/Select/Select\"\r\nimport {Chat} from \"./Chat/Chat\";\r\nimport styles from './Conversations.module.css';\r\nimport {useConversations} from \"./useConversations\";\r\nconst formatProjectsOptions = (projects) => projects.map(p=>({name: `${p.job_type}${p.date? p.date : ''}`, id: p.id}))\r\nexport const Conversations = () => {\r\n    const {data, companies, projects, onChange, onMessageSend, messages} = useConversations();\r\n    const {projectId, companyId, message} = data;\r\n    return (\r\n        <div>\r\n            <Header/>\r\n            <div className={styles.selectWrapper}>\r\n                <Select\r\n                    className={'mb-1'}\r\n                    label={'Project'}\r\n                    options={formatProjectsOptions(projects)}\r\n                    onChange={onChange}\r\n                    name='projectId'\r\n                    value={projectId}/>\r\n                <Select\r\n                    className={'mb-1'}\r\n                    label={'Company'}\r\n                    options={companies}\r\n                    onChange={onChange}\r\n                    name='companyId'\r\n                    value={companyId}/>\r\n            </div>\r\n            <Chat messages={messages} inputMessage={message} onChange={onChange} onMessageSend={onMessageSend}/>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport {Conversations} from \"../components/Conversations/Conversations\";\r\n\r\nexport const ConversationsPage = () => {\r\n    return (<Conversations/>)\r\n}","import React from 'react';\nimport './App.css';\n// import {BrowserRouter as Router, Switch} from \"react-router-dom\";\n/* TODO: Only for deployment purposes */\nimport {HashRouter as Router, Switch} from \"react-router-dom\";\nimport {routes} from \"./routes\";\nimport {LoginPage} from \"./pages/login\";\nimport {AppRoute} from \"./routes/AppRoute\";\nimport {MenuPage} from \"./pages/menu\";\nimport {MaintenanceRequestPage} from \"./pages/maintenance-request\";\nimport {RequestPreviewPage} from \"./pages/request-preview\";\nimport {ConversationsPage} from \"./pages/conversations\";\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Router>\n                <Switch>\n                    <AppRoute path={routes.home} component={MenuPage} exact />\n                    <AppRoute path={routes.login} component={LoginPage} isAuthProtected={false}/>\n                    <AppRoute path={routes.maintenanceRequest} component={MaintenanceRequestPage} />\n                    <AppRoute path={routes.requestPreview} component={RequestPreviewPage} />\n                    <AppRoute path={routes.conversations} component={ConversationsPage} />\n                </Switch>\n            </Router>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}